<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Tour 360 Virtual</title>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
  </head>
  <body>
    <a-scene cursor="rayOrigin: mouse" raycaster="objects: .clickable">
      <!-- Fondo inicial -->
     <a-sky id="sky" src="M1.png" rotation="0 -130 0"></a-sky>


      <!-- CÃ¡mara sin a-cursor, pero con raycaster activado -->
      <a-entity camera look-controls wasd-controls position="0 1.6 0"></a-entity>

      <!-- Hotspot para cambiar a M2.png -->
      <a-image 
        src="M2.png"
        class="clickable"
        position="3 1.5 -3" 
        scale="0.5 0.5 0.5"
        data-img="M2.png"
        change-image>
      </a-image>

      <!-- Hotspot para cambiar a M3.png -->
      <a-image 
        src="M3.png"
        class="clickable"
        position="-3 1.5 -3" 
        scale="0.5 0.5 0.5"
        data-img="M3.png"
        change-image>
      </a-image>
    </a-scene>

    <!-- Script para cambiar el cielo al hacer clic -->
    <script>
      AFRAME.registerComponent('change-image', {
        init: function () {
          this.el.addEventListener('click', () => {
            const img = this.el.getAttribute('data-img');
            const sky = document.querySelector('#sky');
            sky.setAttribute('src', img);
            console.log("Cambiando imagen a:", img);
          });
        }
      });
    </script>
  </body>
</html>
